%&../preamble

% arara: pdflatex: { synctex: no }
% arara: latexmk: { clean: partial }
\ifstandalone
\begin{document}
\begin{algorithm}[H]
\fi
\begin{minipage}[t]{.5\textwidth}

% \BlankLine
\List \Comment*[r]{bidirezionale con sentinella}

\BlankLine
\List \Pred		\Comment*[r]{predecessore}
\List \Succ		\Comment*[r]{successore}
\List \Value	\Comment*[r]{elemento}

\BlankLine
\prototype{\List \listConstructor}{
	\tcp{la sentinella fa riferimento a s√© stessa}
	\(t.\Pred = t\)\;
	\(t.\Succ = t\)\;

	\BlankLine
	\Return \(t\)\;
}

\BlankLine
\prototype{\Pos \listHead}{
	\Return \Succ\;
}

\BlankLine
\prototype{\Pos \listTail}{
	\Return \Pred\;
}

\BlankLine
\prototype{\Pos \listSucc}{
	\Return \(p.\Succ\)\;
}

\BlankLine
\prototype{\Pos \listPred}{
	\Return \(p.\Pred\)\;
}

\BlankLine
\prototype{\Bool \listEnd{\Pos p}}{
	\Return \(p \Equal \This\)\;
}

\end{minipage}\hfill%
\begin{minipage}[t]{.5\textwidth}

% \BlankLine
\prototype{\Item \listRead{\Pos p}}{
	\Return \(p.\Value\)\;
}

\BlankLine
\prototype{\listWrite{\Pos p}}{
	\(p.\Value\) \Assign \(v\)\;
}

\BlankLine
\tcp{posso fare queste operazioni essendo sicuro}
\tcp{di avere sempre un predecessore}
	\prototype{\Pos \listInsert{\Pos p, \Item v}}{
	\List \(t\) \Assign \new \listConstructor\;
	\(t.\Value\) \Assign \(v\)\;
	\(t.\Pred\) \Assign \(p.\Pred\)\;
	\(p.\Pred.\Succ\) \Assign \(t\)\;
	\(t.\Succ\) \Assign \(p\)\;
	\(p.\Pred\) \Assign \(t\)\;

	\BlankLine
	\Return \(t\)\;
}

\BlankLine
\prototype{\Pos \listRemove{\Pos \(p\)}}{
	\(p.\Pred.\Succ\) \Assign \(p.\Succ\)\;
	\(p.\Succ.\Pred\) \Assign \(p.\Pred\)\;
	\List \(t\) \Assign \(p.\Succ\)\;

	\BlankLine
	\Delete \(p\)\;
	\Return \(t\)\;
}

\vspace{15pt}
\vphantom{0pt}

\end{minipage}
\ifstandalone
\end{algorithm}
\end{document}
\fi
