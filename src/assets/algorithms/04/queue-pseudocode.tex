%&../preamble

% NOTE sopprime i warnings localmente
\hbadness=10000
\hfuzz=\maxdimen\newdimen\hfuzz

% arara: pdflatex: { synctex: no }
% arara: latexmk: { clean: partial }
\ifstandalone
\begin{document}
\begin{algorithm}[H]
\fi
\begin{minipage}[t]{.45\textwidth}

\Item{} \(A\)	\Comment*[r]{elementi}
\Int \(n\)		\Comment*[r]{dimensione attuale}
\Int \(head\)	\Comment*[r]{testa della coda}
\Int \(m\)		\Comment*[r]{dimesione massima}

\BlankLine
\tcp{crea una cosa vuota}
\prototype{\Queue \queueConstructor{\Int dim}}{
	\Queue \(t =\) \new \queueConstructor\;
	\(t.A =\) \new \Array{\Int}[0][dim-1]\;
	\(t.m = dim\)\;
	\(t.head = 0\)\;
	\(t.n = 0\)\;

	\BlankLine
	\Return \(t\)\;
}

\BlankLine
\tcp{legge l'elemento in testa alla coda}
\prototype{\Item \queueTop}{
	\precondition{\(n > 0\)}

	\BlankLine
	\Return A[head]\;
}

% \vspace{5pt}
\end{minipage}\hfill%
\begin{minipage}[t]{.45\textwidth}

% \BlankLine
\tcp{restituisce \True de la coda Ã¨ vuota}
\prototype{\Item \queueEmpty}{
	\Return \(n \Equal 0\)\;
}

\BlankLine
\tcp{estrae l'elemento in head alla coda e lo restituisce al chiamante}
\prototype{\Item \queueRemove}{
	\precondition{\(n > 0\)}

	\BlankLine
	\Item \(t = A[head]\)\;
	\(head = (head+1) \bmod m\)\;
	\Decrement{n}\;

	\BlankLine
	\Return \(t\)\;
}

\BlankLine
\tcp{inserisce \(v\) in fondo alla coda}
\prototype{\Item \queueInsert}{
	\precondition{\(n < m\)}

	\BlankLine
	\(A[(head+n) \bmod m]\) = \(v\)\;
	\Increment{n}\;
}

\vphantom{0pt}

\end{minipage}
\ifstandalone
\end{algorithm}
\end{document}
\fi
