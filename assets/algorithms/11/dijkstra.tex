\documentclass[varwidth=6in]{standalone}
\usepackage{../_preamble}

% arara: pdflatex: { synctex: no }
% arara: latexmk: { clean: partial }
\begin{document}
\ifstandalone
\NoCaptionOfAlgo
\begin{algorithm}[H]
\caption[Algoritmo di Dijkstra]{}
\fi

\prototype{\Array{\Int}, \Array{\Int} \CamminiMinimi{\Graph \(G\), \Node \(s\)}}{

	\BlankLine
	\lnl{dijkstra:init}%
	\alert{ \Heap \(S\) \Assign \heapConstructor } \Comment*[l]{\(\Omicron(n) \cdot 1\)}
	\alert{ \(S\).\heapInsert{\(s\), \(0\)} }\;

	\BlankLine
	\While(\Comment*[h]{\(\Omicron(n)\)}){\Not \(S.\setEmpty{}\)}{

		\lnl{dijkstra:remove}%
		\tcp{\(\Omicron(n)\) vettore ordinato / \(\Omicron(\log n)\) heap binario}
		\alert{\Int \(u\) \Assign \(S\).\heapDeleteMin }\;
		\ArrayCall{b}{u} \Assign \False\;
	%
		\BlankLine
		\ForEach{\( v \in G.\adj{u} \)}{
			\If{\( \ArrayCall{d}{u} + G.\weight{u,v} < \ArrayCall{d}{v} \)}{

				\BlankLine
				\eSea{\(\Not \ArrayCall{b}{v}\)}{
					\lnl{dijkstra:add}%
					\tcp{\(\Omicron(1) \cdot n\) vettore ordinato / \(\Omicron(\log n) \cdot n\) heap binario}
					% \alert{ \(S.\heapInsert{\(v\), \(\ArrayCall{d}{u} + G.\weight{u,v}\)}\)} \;
					\ArrayCall{b}{v} \Assign \True\;
				}{
					\lnl{dijkstra:update}%
					\tcp{\(\Omicron(1) \cdot m\) vettore ordinato / \(\Omicron(\log n) \cdot m\) heap binario}
					% \alert{ \(S\).\heapDecrease{\(v\), \(\ArrayCall{d}{u} + G.\weight{u,v}\)} }\;
				}
				\ArrayCall{T}{v} \Assign \(u\)\;
				\ArrayCall{d}{v} \Assign \(\ArrayCall{d}{u} + G.\weight{u,v}\)\;
			}
		}
	}
	\Return \((T, d)\)\;
}

\ifstandalone
\end{algorithm}
\RestoreCaptionOfAlgo
\fi
\end{document}
