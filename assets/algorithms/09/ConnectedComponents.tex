%&../preamble

% \documentclass[varwidth=6in]{standalone}
% \usepackage{../preamble}

% arara: pdflatex: { synctex: no }
% arara: latexmk: { clean: partial }
\begin{document}

\ifstandalone
\NoCaptionOfAlgo
\begin{algorithm}[H]
\caption[]{}
\fi

\tcp{identifica le componenti connesse di un grafo \textbf{non orientato}}
\prototype{\Array{\Int} \ConnectedComponents{\Graph G, \Stack S}}{
	\Array{\Int} \(id =\) \new \Array{\Int}{1}{G.\setSize}\;

	\BlankLine
	\ForEach{\(u \in G.\VV\)}{
		\(\ArrayCall{id}{u} = 0\)
	}
	\Int \(counter = 0\)\;

	\ForEach{\(u \in G.\VV\)}{
	\tcp{per ogni nodo del grafo}

		\BlankLine
		\If{\(id[u] \Equal 0\)}{
			\tcp{ho trovato una nuova componente connessa}
			\Increment{counter}\;

			\BlankLine
			\tcp{effettuo una chiamata ricorsiva sul nodo trovato}
			\ccdfs{G, counter, u, id}
		}
	}

	\BlankLine
	\Return \(id\)
}


\BlankLine
\tcp{visita ricorsiva}
\prototype{\ccdfs{\Graph G, \Int counter, \Node u, \Array{\Int} id}}{
	\tcp{\(counter\): identificatore di quante cc ho trovato fin'ora}
	\tcp{\(u\): il nodo che sto visitando}

	\BlankLine
	\tcp{assegno un contatore ad ogni nodo della cc}
	\(\ArrayCall{id}{v} = counter\)\;

	\BlankLine
	\ForEach{\(v \in G.\adj{u}\)}{

		\BlankLine
		\If{\(id[v] \Equal 0\)}{
			\tcp{non Ã¨ ancora stato visitato}

			\BlankLine
			\ccdfs{G, counter, v, id}
			\tcp{\(v\): il nodo in cui vado a operare}
		}
	}
}

\ifstandalone
\end{algorithm}
\RestoreCaptionOfAlgo
\fi

\end{document}
