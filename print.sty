% NOTE create the file for 16x24 version
% https://tex.stackexchange.com/questions/144268/
\usepackage{filecontents}

% NOTE pagine in bianco e nero
\begin{filecontents}{main-bw.tex}
\documentclass{article}

% NOTE rimpicciolisco il foglio di stampa
\usepackage[paperwidth  = 17cm, paperheight = 24cm]{geometry}

% NOTE aggiungo i bordi di taglio su un a4
\usepackage[a4, frame]{crop}

% NOTE per includere le pagine del file originale
\usepackage{pdfpages}

\begin{document}
% TODO specifica solo le pagine in bianco e nero
\includepdf[pages={1-76}]{main}
% \includepdf[pages={77-78}]{main}
\includepdf[pages={79-80}]{main}
% \includepdf[pages={81-88}]{main}
\includepdf[pages={89-100}]{main}
% \includepdf[pages={101-102}]{main}
\includepdf[pages={103-104}]{main}
% \includepdf[pages={105-106}]{main}
\includepdf[pages={107-110}]{main}
% \includepdf[pages={111-120}]{main}
\includepdf[pages={121-133}]{main}
\end{document}
\end{filecontents}

% NOTE pagine a colori
\begin{filecontents}{main-cl.tex}
\documentclass{article}
\usepackage[paperwidth  = 17cm, paperheight = 24cm]{geometry}
\usepackage[a4, frame]{crop}
\usepackage{pdfpages}

\begin{document}
% TODO specifica solo le pagine a colori
% \includepdf[pages={1-76}]{main}
\includepdf[pages={77-78}]{main}
% \includepdf[pages={79-80}]{main}
\includepdf[pages={81-88}]{main}
% \includepdf[pages={89-100}]{main}
\includepdf[pages={101-102}]{main}
% \includepdf[pages={105-106}]{main}
\includepdf[pages={105-106}]{main}
% \includepdf[pages={111-120}]{main}
\includepdf[pages={111-120}]{main}
\end{document}
\end{filecontents}
