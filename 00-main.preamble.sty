\documentclass[
	% ,draft
]{article}

\usepackage{set-utilities}

\begin{comment}
% NOTE tex.stackexchange.com/questions/39700/
% save defaults
\edef\keptrmdefault{\rmdefault}
\edef\keptsfdefault{\sfdefault}
\edef\keptttdefault{\ttdefault}

% WARNING creano conflitti con i pacchetti matematici
% TODO bisogna caricarli dopo?
% \usepackage[garamond]{mathdesign}
% \usepackage[charter]{mathdesign}

% NOTE non mi piace, troppo pesante
% \usepackage{fouriernc}

% NOTE mi piace il font del testo, ma non quello matematico
% \usepackage{ccfonts}
\usepackage[euler-digits,euler-hat-accent]{eulervm}
\usepackage[T1]{fontenc}

% restore defaults
\edef\rmdefault{\keptrmdefault}
\edef\sfdefault{\keptsfdefault}
\edef\ttdefault{\keptttdefault}
\end{comment}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english, italian]{babel}
\usepackage[
	% ,activate	= {true, nocompatibility}
	,activate	= {true}
	,final
	% ,draft
	,tracking	= true
	,kerning	= true
	% ,spacing	= true
	,factor		= 1100
	,stretch	= 10
	,shrink		= 10
]{microtype}

% NOTE ottimizzare la versione stampata in bianco e nero
% NOTE definito in algorithm2e
% \printedtrue

% TODO inglobare nei pacchetto 'set-algorithm2e'
% \usepackage{multicol}

\usepackage{set-color}
\colorlet{mathcolor}{blue}

% NB Ã¨ una copia, copia le modifiche su 'assets/algorithms/preamble'
\colorlet{nodeRed}{red!30}
\colorlet{nodeBlue}{blue!30}
\colorlet{nodeYellow}{yellow!30}

\colorlet{arcoAlbero}{red}
\colorlet{arcoIndietro}{teal} % brown -> teal
\colorlet{arcoAvanti}{purple}
\colorlet{arcoAttraversamento}{blue}

\usepackage{set-math}

\usepackage{set-lists}
\usepackage{set-tikz}
\usepackage{set-forest}
\usepackage{set-tables}

\usepackage{set-graphics}
\captionsetup[figure]{format=hang, justification=raggedright, singlelinecheck=off}
\captionsetup[subfigure]{format=hang, justification=raggedright, singlelinecheck=off}

\usepackage{set-automata}
\usepackage{set-quote}
\usepackage{set-citations}
\usepackage{set-notes}
\usepackage{set-pages}

\usepackage[
	,top	= 0.8in
	,bottom	= 1.25in
	,left	= 1.25in
	,right	= 1.25in
	% NOTE tex.stackexchange.com/questions/29125/
	,marginparwidth=4.6cm
	,heightrounded
]{geometry}

\usepackage{set-algorithm2e}

% \usepackage{set-external-files}
\usepackage[
	,subpreambles	= false
	,mode			= buildnew
]{standalone}
% WARNING se lo decommenti rompi la build degli appunti sugli esami
% \standalonetrue
\usepackage{subfiles}

\usepackage{set-paragraph}
\usepackage[normalem]{ulem}

% NOTE utilizzato nel capitolo ??
\usepackage{chronology}
\usepackage{pgfgantt}

\NewDocumentCommand\exercise{m}{%
	\begin{center}
		\fbox{#1}%
	\end{center}
}

\NewDocumentCommand{\Orale}{}{%
	\normalfont\small\marginnote{%
		\fbox{Domanda orale}%
	}%
}

\NewDocumentCommand{\foreign}{m}{%
	\selectlanguage{english}{%
		\emph{#1}%
	}%
}

\newcommand\docversion{v1.0.0}

\usepackage{titling}
\newcommand\subtitle[1]{%
	\posttitle{%
		\par\end{center}
		\begin{center}\large#1\end{center}
		\vskip0.5em}%
}

\title{Appunti \emph{ordinati} sull'analisi degli algoritmi\\\underline{in preparazione all'orale}}
\subtitle{(Si puÃ² fare meglio di cosÃ¬?)}%\textsuperscript{\texttrademark}
\author{Emanuele Nardi}
\date{Compilato il \today\\\texttt{\docversion}}

\newcommand\Title{UNITN -- Algoritmi e Struttre Dati}
\newcommand\Subject{Algoritmi e Strutture Dati}
\newcommand\Keywords{Algoritmi, Strutture Dati}
\newcommand\Author{Emanuele Nardi}

\usepackage{set-pdf-props}

\usepackage{set-links}
\usepackage{siunitx}

\usepackage[useregional]{datetime2}

% NOTE per gli esami
% TODO da spostare
\reversemarginpar
\NewDocumentCommand{\esercizio}{ o m }{
	\marginnote{\tiny \fbox{\em\DTMdate{#2}} \IfValueT{#1}{\circled{#1}}}%
}

\newcommand\intervalNumber{1}
\NewDocumentEnvironment{ricorrenza}{ s o g }{
	% \begin{equation*}
	\[
		\IfBooleanF{#1}
		{T(n) =}
		\IfValueT{#3}{\esercizio[#2]{#3}}
		% NOTE mi permette di evitare errori se non specifico la data dell'esercizio
		% TODO de-commetare per avere le equazioni complete
		% TODO versione con star permette di avere l'equazione pulita
		\IfBooleanF{#1}
			{\begin{dcases}}
}{
		\IfBooleanF{#1}
			{
			& n > \intervalNumber \\
			1 & n \leqslant \intervalNumber \\
		\end{dcases}
			}
	\]
	% \end{equation*}
}

\NewDocumentCommand{\T}{ s o m }{
	\ensuremath{%
		\IfValueTF{#2}
			{T_{#2}}
			{T}
		\left(%
		\IfBooleanTF{#1}
			{\left\lfloor#3\right\rfloor}
			{#3}
		\right)
	}
}

% NOTE riadattate dal documento di Montresor (grazie ðŸ˜Œ)
\usepackage{macros}

% https://tex.stackexchange.com/questions/345737/
\makeatletter
\newcommand\fs@booktabsruled{%
	\def\@fs@cfont{\bfseries\strut}\let\@fs@capt\floatc@ruled
	\def\@fs@pre{\hrule height\heavyrulewidth depth0pt \kern\belowrulesep}%
	\def\@fs@mid{\kern\aboverulesep\hrule height\lightrulewidth\kern\belowrulesep}%
	\def\@fs@post{\kern\aboverulesep\hrule height\heavyrulewidth\relax}%
	\let\@fs@iftopcapt\iftrue
}
\makeatother

\usepackage{float}
\newfloat{algorithm}{h}{alg}[section]
\floatname{algorithm}{Algoritmo}

\floatstyle{booktabsruled}
\restylefloat{algorithm}

% NOTE specifica la slide dove Ã¨ presente l'algoritmo
\newcommand\slide[2]{%
	\fbox{#1/#2}%
}

% NOTE per avere i parametri allineati a destra con un box di dimensione pari alla stringa piÃ¹ lunga
\usepackage{eqparbox}
\NewDocumentCommand{\params}{ mo }
	{ \tcp{\eqparbox{params}{\(#1\):} #2}\vspace{-3pt} }

% NOTE per accertarmi di aver caricato il prambolo
\def\preambleloaded{Precompiled preamble loaded.}
